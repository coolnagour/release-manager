
@hostname = http://localhost:9002
# You might need to change this appId to match an application in your database.
# Find it in your Turso dashboard in the 'applications' table or create a new one.
@appId = 9d03314d-ab63-4493-8faa-a648ad65ebc9

###
# SUCCESSFUL: Driver 1 on version 1.0.0
POST {{hostname}}/api/releases/check
Content-Type: application/json

{
  "appId": "{{appId}}",
  "country": "IE",
  "companyId": 101,
  "driverId": 1,
  "vehicleId": 1,
  "companyRef": "comp-a",
  "driverRef": "driver-1",
  "vehicleRef": "vehicle-1",
  "versionName": "1.0.0",
  "versionCode": 100
}

###
# SUCCESSFUL: Driver 2 on version 1.0.0
POST {{hostname}}/api/releases/check
Content-Type: application/json

{
  "appId": "{{appId}}",
  "country": "US",
  "companyId": 102,
  "driverId": 2,
  "vehicleId": 2,
  "versionName": "1.0.0",
  "versionCode": 100
}

###
# SUCCESSFUL: Driver 3 on version 1.1.0
POST {{hostname}}/api/releases/check
Content-Type: application/json

{
  "appId": "{{appId}}",
  "country": "DE",
  "companyId": 101,
  "driverId": 3,
  "vehicleId": 3,
  "versionName": "1.1.0",
  "versionCode": 110
}

###
# SUCCESSFUL: Driver 4 on version 1.1.0
POST {{hostname}}/api/releases/check
Content-Type: application/json

{
  "appId": "{{appId}}",
  "country": "IE",
  "companyId": 103,
  "driverId": 4,
  "vehicleId": 4,
  "versionName": "1.1.0",
  "versionCode": 110
}

###
# SUCCESSFUL: Driver 5 on version 1.2.0 (latest)
POST {{hostname}}/api/releases/check
Content-Type: application/json

{
  "appId": "{{appId}}",
  "country": "IE",
  "companyId": 101,
  "driverId": 5,
  "vehicleId": 5,
  "versionName": "1.2.0",
  "versionCode": 120
}

###
# GET request example
GET {{hostname}}/api/releases/check?appId={{appId}}&country=IE&companyId=1100&driverId=9999&vehicleId=9999&companyRef=comp-abc&driverRef=driver-xyz&vehicleRef=vehicle-123&versionName=1.2.0&versionCode=120

###
# VALIDATION ERROR: Missing required fields
POST {{hostname}}/api/releases/check
Content-Type: application/json

{
  "appId": "{{appId}}",
  "country": "IE"
}
